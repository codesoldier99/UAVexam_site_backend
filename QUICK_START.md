# ğŸš€ æ— äººæœºè€ƒç‚¹ç®¡ç†ç³»ç»Ÿ - å¿«é€Ÿä½¿ç”¨æŒ‡å—

## ä¸€ã€ç³»ç»Ÿæ¦‚è¿°

æœ¬ç³»ç»Ÿæ˜¯ä¸€ä¸ªå®Œæ•´çš„æ— äººæœºè€ƒç‚¹è¿è¥ç®¡ç†è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«ï¼š
- **åç«¯APIæœåŠ¡**ï¼šåŸºäºFastAPIçš„RESTful API
- **PCç®¡ç†åå°**ï¼šVue 3å¼€å‘çš„Webç®¡ç†ç•Œé¢
- **å¾®ä¿¡å°ç¨‹åº**ï¼šè€ƒç”Ÿå’Œè€ƒåŠ¡äººå‘˜ä½¿ç”¨çš„ç§»åŠ¨ç«¯

## äºŒã€å¿«é€Ÿå¯åŠ¨ï¼ˆ5åˆ†é’Ÿä¸Šæ‰‹ï¼‰

### æ–¹æ³•1ï¼šä½¿ç”¨Dockerä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /home/user/webapp/uav-exam-complete

# 2. å¤åˆ¶ç¯å¢ƒé…ç½®
cp backend/.env.example backend/.env

# 3. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# 4. ç­‰å¾…æœåŠ¡å¯åŠ¨å®Œæˆï¼ˆçº¦30ç§’ï¼‰
docker-compose ps
```

### æ–¹æ³•2ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒ

```bash
# 1. å®‰è£…åç«¯ä¾èµ–
cd backend
pip install -r requirements.txt

# 2. å®‰è£…å‰ç«¯ä¾èµ–
cd ../admin-frontend
npm install

# 3. å¯åŠ¨æœåŠ¡ï¼ˆä½¿ç”¨PM2ï¼‰
cd ..
npx pm2 start ecosystem.config.js

# 4. æŸ¥çœ‹æœåŠ¡çŠ¶æ€
npx pm2 status
```

## ä¸‰ã€è®¿é—®ç³»ç»Ÿ

### 1. PCç®¡ç†åå°
- **åœ°å€**: http://localhost:3000
- **è´¦å·**: 
  - è¶…çº§ç®¡ç†å‘˜: `admin` / `admin123`
  - è€ƒåŠ¡ç®¡ç†å‘˜: `examadmin` / `exam123`
  - åŸ¹è®­æœºæ„: `institution` / `inst123`

### 2. APIæ–‡æ¡£
- **åœ°å€**: http://localhost:8000/docs
- **è¯´æ˜**: FastAPIè‡ªåŠ¨ç”Ÿæˆçš„äº¤äº’å¼APIæ–‡æ¡£

### 3. å¾®ä¿¡å°ç¨‹åº
- ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ `miniprogram` ç›®å½•
- é…ç½®AppIDï¼ˆåœ¨å°ç¨‹åºç®¡ç†åå°è·å–ï¼‰
- ä¿®æ”¹ `app.js` ä¸­çš„ `baseUrl` ä¸ºå®é™…æœåŠ¡å™¨åœ°å€

## å››ã€æ ¸å¿ƒåŠŸèƒ½ä½¿ç”¨æµç¨‹

### 1. ç®¡ç†å‘˜åˆå§‹è®¾ç½®
1. ä½¿ç”¨adminè´¦å·ç™»å½•PCåå°
2. è¿›å…¥ã€è€ƒåŠ¡ç®¡ç†ã€‘â†’ã€è€ƒåœºç®¡ç†ã€‘æ·»åŠ è€ƒåœº
3. è¿›å…¥ã€è€ƒåŠ¡ç®¡ç†ã€‘â†’ã€è€ƒè¯•äº§å“ã€‘æ·»åŠ è€ƒè¯•ç±»å‹
4. è¿›å…¥ã€ç”¨æˆ·ç®¡ç†ã€‘â†’ã€åŸ¹è®­æœºæ„ã€‘æ·»åŠ æœºæ„

### 2. åŸ¹è®­æœºæ„æŠ¥åæµç¨‹
1. æœºæ„ç”¨æˆ·ç™»å½•PCåå°
2. è¿›å…¥ã€è€ƒç”Ÿç®¡ç†ã€‘â†’ã€è€ƒç”Ÿåˆ—è¡¨ã€‘
3. ç‚¹å‡»ã€æ·»åŠ è€ƒç”Ÿã€‘å•ä¸ªå½•å…¥ æˆ–
4. ç‚¹å‡»ã€æ‰¹é‡å¯¼å…¥ã€‘ä¸Šä¼ Excelæ–‡ä»¶

### 3. è€ƒåŠ¡æ’æœŸæµç¨‹
1. è€ƒåŠ¡ç®¡ç†å‘˜ç™»å½•PCåå°
2. è¿›å…¥ã€è€ƒåŠ¡ç®¡ç†ã€‘â†’ã€æ’æœŸç®¡ç†ã€‘
3. é€‰æ‹©æ—¥æœŸå’Œè€ƒç”Ÿæ‰¹æ¬¡
4. æ‰¹é‡ç”Ÿæˆè€ƒè¯•å®‰æ’

### 4. è€ƒç”Ÿä½¿ç”¨æµç¨‹
1. æ‰“å¼€å¾®ä¿¡å°ç¨‹åº
2. è¾“å…¥èº«ä»½è¯å·ç™»å½•
3. æŸ¥çœ‹ã€æˆ‘çš„æ—¥ç¨‹ã€‘äº†è§£è€ƒè¯•å®‰æ’
4. åœ¨ã€æˆ‘çš„äºŒç»´ç ã€‘é¡µé¢å‘è€ƒåŠ¡äººå‘˜å±•ç¤ºäºŒç»´ç 

### 5. è€ƒåŠ¡äººå‘˜ç­¾åˆ°æµç¨‹
1. è€ƒåŠ¡äººå‘˜ç™»å½•å°ç¨‹åº
2. è¿›å…¥æ‰«ç é¡µé¢
3. æ‰«æè€ƒç”ŸäºŒç»´ç å®Œæˆç­¾åˆ°

## äº”ã€è…¾è®¯äº‘éƒ¨ç½²æ­¥éª¤

### 1. æœåŠ¡å™¨å‡†å¤‡
```bash
# SSHç™»å½•æœåŠ¡å™¨
ssh root@your-server-ip

# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/uav-exam-complete.git
cd uav-exam-complete
```

### 2. é…ç½®ç¯å¢ƒå˜é‡
```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim backend/.env

# ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š
DATABASE_URL=mysql+aiomysql://user:password@localhost:3306/uav_exam
SECRET_KEY=your-production-secret-key
BACKEND_CORS_ORIGINS=["https://your-domain.com"]
```

### 3. å¯åŠ¨æœåŠ¡
```bash
# ä½¿ç”¨éƒ¨ç½²è„šæœ¬
chmod +x deploy.sh
./deploy.sh
```

### 4. é…ç½®åŸŸå
- åœ¨è…¾è®¯äº‘æ§åˆ¶å°é…ç½®åŸŸåè§£æ
- é…ç½®SSLè¯ä¹¦ï¼ˆæ¨èä½¿ç”¨Let's Encryptï¼‰
- æ›´æ–°Nginxé…ç½®æŒ‡å‘æ‚¨çš„åŸŸå

## å…­ã€å¸¸è§é—®é¢˜è§£å†³

### Q1: æ•°æ®åº“è¿æ¥å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
2. éªŒè¯æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
3. ç¡®è®¤ç”¨æˆ·æƒé™

### Q2: å‰ç«¯æ— æ³•è®¿é—®åç«¯API
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥CORSé…ç½®
2. ç¡®è®¤APIåœ°å€é…ç½®æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

### Q3: å°ç¨‹åºæ— æ³•ç™»å½•
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥AppIDé…ç½®
2. éªŒè¯æœåŠ¡å™¨åŸŸåç™½åå•
3. ç¡®è®¤åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ

### Q4: PM2æœåŠ¡å¯åŠ¨å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
npx pm2 logs

# é‡å¯æœåŠ¡
npx pm2 restart all

# æ¸…é™¤æ—¥å¿—
npx pm2 flush
```

## ä¸ƒã€æ•°æ®ç®¡ç†

### å¤‡ä»½æ•°æ®åº“
```bash
# MySQLå¤‡ä»½
docker exec uav_exam_mysql mysqldump -u root -p uav_exam > backup.sql

# æ¢å¤æ•°æ®
docker exec -i uav_exam_mysql mysql -u root -p uav_exam < backup.sql
```

### æ¸…ç†æµ‹è¯•æ•°æ®
```bash
# è¿›å…¥æ•°æ®åº“
docker exec -it uav_exam_mysql mysql -u root -p

# æ¸…ç†è€ƒç”Ÿæ•°æ®
DELETE FROM schedules WHERE exam_date < CURDATE();
DELETE FROM candidates WHERE status = 'completed';
```

## å…«ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **æ•°æ®åº“ä¼˜åŒ–**
   - ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•
   - å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
   - ä½¿ç”¨è¯»å†™åˆ†ç¦»ï¼ˆå¤§è§„æ¨¡éƒ¨ç½²ï¼‰

2. **å‰ç«¯ä¼˜åŒ–**
   - å¯ç”¨Gzipå‹ç¼©
   - é…ç½®CDNåŠ é€Ÿ
   - å®ç°æ‡’åŠ è½½

3. **åç«¯ä¼˜åŒ–**
   - ä½¿ç”¨Redisç¼“å­˜çƒ­ç‚¹æ•°æ®
   - å®ç°æ¥å£é™æµ
   - é…ç½®è´Ÿè½½å‡è¡¡

## ä¹ã€å®‰å…¨å»ºè®®

1. ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç 
2. é…ç½®HTTPS
3. å®šæœŸæ›´æ–°ä¾èµ–åŒ…
4. å¯ç”¨é˜²ç«å¢™
5. å®šæœŸå¤‡ä»½æ•°æ®
6. ç›‘æ§ç³»ç»Ÿæ—¥å¿—

## åã€æŠ€æœ¯æ”¯æŒ

- æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼šREADME.md
- éƒ¨ç½²æŒ‡å—ï¼šDEPLOYMENT.md
- é¡¹ç›®ç»“æ„ï¼šPROJECT_STRUCTURE.md
- APIæ–‡æ¡£ï¼šhttp://localhost:8000/docs

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤Issueæˆ–è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚