<!--miniprogram/pages/staff/login/login.wxml-->
<view class="container">
  <!-- Background Decoration -->
  <view class="bg-decoration">
    <view class="circle circle-1"></view>
    <view class="circle circle-2"></view>
    <view class="circle circle-3"></view>
  </view>

  <!-- Header -->
  <view class="header">
    <view class="logo-container">
      <view class="logo-icon">
        <text class="logo-text">📋</text>
      </view>
      <view class="system-info">
        <view class="title">工作人员登录</view>
        <view class="subtitle">考试管理系统</view>
      </view>
    </view>
  </view>

  <!-- Login Card -->
  <view class="login-card">
    <view class="card-header">
      <view class="welcome-text">欢迎回来</view>
      <view class="welcome-desc">请输入您的工作账号信息</view>
    </view>

    <!-- Login Form -->
    <view class="form-container">
      <!-- Username Input -->
      <view class="input-group">
        <view class="input-label">工作账号</view>
        <view class="input-wrapper {{username ? 'has-value' : ''}}">
          <view class="input-icon">👤</view>
          <input 
            class="input-field" 
            type="text" 
            placeholder="请输入工作账号" 
            value="{{username}}"
            bindinput="onUsernameInput"
            bindfocus="onInputFocus"
            bindblur="onInputBlur"
            maxlength="20"
          />
        </view>
      </view>

      <!-- Password Input -->
      <view class="input-group">
        <view class="input-label">登录密码</view>
        <view class="input-wrapper {{password ? 'has-value' : ''}}">
          <view class="input-icon">🔒</view>
          <input 
            class="input-field" 
            type="{{showPassword ? 'text' : 'password'}}" 
            placeholder="请输入登录密码" 
            value="{{password}}"
            bindinput="onPasswordInput"
            bindfocus="onInputFocus"
            bindblur="onInputBlur"
            maxlength="50"
          />
          <view class="password-toggle" bindtap="togglePassword">
            <text class="toggle-icon">{{showPassword ? '👁️' : '👁️‍🗨️'}}</text>
          </view>
        </view>
      </view>

      <!-- Remember Me -->
      <view class="remember-section">
        <view class="checkbox-wrapper" bindtap="toggleRemember">
          <view class="custom-checkbox {{rememberMe ? 'checked' : ''}}">
            <text class="check-icon" wx:if="{{rememberMe}}">✓</text>
          </view>
          <text class="checkbox-label">记住登录状态</text>
        </view>
        <view class="forgot-link" bindtap="forgotPassword">
          <text class="link-text">忘记密码？</text>
        </view>
      </view>

      <!-- Login Button -->
      <button 
        class="login-button {{isLoading ? 'loading' : ''}}" 
        bindtap="handleLogin"
        disabled="{{isLoading}}"
      >
        <view class="button-content">
          <view class="loading-spinner" wx:if="{{isLoading}}"></view>
          <text class="button-text">{{isLoading ? '登录中...' : '立即登录'}}</text>
        </view>
      </button>
    </view>
  </view>

  <!-- Quick Actions -->
  <view class="quick-actions">
    <view class="action-item" bindtap="contactSupport">
      <view class="action-icon">📞</view>
      <text class="action-text">联系技术支持</text>
    </view>
    <view class="action-divider"></view>
    <view class="action-item" bindtap="goBack">
      <view class="action-icon">🏠</view>
      <text class="action-text">返回首页</text>
    </view>
  </view>

  <!-- Footer Info -->
  <view class="footer-info">
    <view class="version-info">考试管理系统 v2.0</view>
    <view class="copyright">© 2025 版权所有</view>
  </view>

  <!-- Success Animation -->
  <view class="success-overlay" wx:if="{{showSuccess}}">
    <view class="success-content">
      <view class="success-icon">✅</view>
      <view class="success-text">登录成功</view>
      <view class="success-desc">正在跳转...</view>
    </view>
  </view>
</view>
